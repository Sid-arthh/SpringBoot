2023-05-05 16:15:59.637  INFO 1387792 --- [main] c.k.example.test.HotelControllerTest     : Starting HotelControllerTest on adi123 with PID 1387792 (started by aditya in /home/aditya/Pictures/sbooot/spring-boot-rest-example)
2023-05-05 16:15:59.642  INFO 1387792 --- [main] c.k.example.test.HotelControllerTest     : The following profiles are active: test
2023-05-05 16:15:59.791  INFO 1387792 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@14fc5f04: startup date [Fri May 05 16:15:59 IST 2023]; root of context hierarchy
2023-05-05 16:16:07.136  INFO 1387792 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e4a4584c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-05 16:16:10.281  INFO 1387792 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2023-05-05 16:16:10.359  INFO 1387792 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2023-05-05 16:16:10.892  INFO 1387792 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2023-05-05 16:16:10.898  INFO 1387792 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2023-05-05 16:16:10.906  INFO 1387792 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2023-05-05 16:16:11.050  INFO 1387792 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2023-05-05 16:16:11.406  INFO 1387792 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-05-05 16:16:12.948  INFO 1387792 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2023-05-05 16:16:12.994  INFO 1387792 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2023-05-05 16:16:13.103  INFO 1387792 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-05 16:16:14.948  WARN 1387792 --- [main] figurationPropertiesBindingPostProcessor : The @ConfigurationProperties bean class com.khoubyari.example.service.ServiceProperties contains validation constraints but had not been annotated with @Validated.
2023-05-05 16:16:14.950  WARN 1387792 --- [main] figurationPropertiesBindingPostProcessor : The @ConfigurationProperties bean class com.khoubyari.example.service.ServiceProperties contains validation constraints but had not been annotated with @Validated.
2023-05-05 16:16:14.951  WARN 1387792 --- [main] figurationPropertiesBindingPostProcessor : The @ConfigurationProperties bean class com.khoubyari.example.service.ServiceProperties contains validation constraints but had not been annotated with @Validated.
2023-05-05 16:16:17.003  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels/{id}],methods=[GET],produces=[application/json || application/xml]}" onto public com.khoubyari.example.domain.Hotel com.khoubyari.example.api.rest.HotelController.getHotel(java.lang.Long,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2023-05-05 16:16:17.025  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels/{id}],methods=[PUT],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.khoubyari.example.api.rest.HotelController.updateHotel(java.lang.Long,com.khoubyari.example.domain.Hotel,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-05 16:16:17.033  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels/{id}],methods=[DELETE],produces=[application/json || application/xml]}" onto public void com.khoubyari.example.api.rest.HotelController.deleteHotel(java.lang.Long,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-05 16:16:17.036  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels],methods=[GET],produces=[application/json || application/xml]}" onto public org.springframework.data.domain.Page<com.khoubyari.example.domain.Hotel> com.khoubyari.example.api.rest.HotelController.getAllHotel(java.lang.Integer,java.lang.Integer,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-05 16:16:17.061  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.khoubyari.example.api.rest.HotelController.createHotel(com.khoubyari.example.domain.Hotel,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-05 16:16:17.084  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2023-05-05 16:16:17.148  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2023-05-05 16:16:17.150  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2023-05-05 16:16:17.153  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2023-05-05 16:16:17.182  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-05 16:16:17.186  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2023-05-05 16:16:20.156  INFO 1387792 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@14fc5f04: startup date [Fri May 05 16:15:59 IST 2023]; root of context hierarchy
2023-05-05 16:16:20.475  INFO 1387792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2023-05-05 16:16:20.476  INFO 1387792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2023-05-05 16:16:20.694  INFO 1387792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2023-05-05 16:16:22.227  INFO 1387792 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: c03139fc-6fac-4051-87f2-5a983b146ec2

2023-05-05 16:16:22.410  INFO 1387792 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2023-05-05 16:16:22.411  INFO 1387792 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@771cbd13, []
2023-05-05 16:16:22.617  INFO 1387792 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@2dc73024, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42cd0fc6, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cbe3a05, org.springframework.security.web.header.HeaderWriterFilter@7d551ec6, org.springframework.security.web.csrf.CsrfFilter@6aadb092, org.springframework.security.web.authentication.logout.LogoutFilter@18ca9277, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b55c3d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@784212, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e5864c2, org.springframework.security.web.session.SessionManagementFilter@7bc8ffbc, org.springframework.security.web.access.ExceptionTranslationFilter@aa23f11]
2023-05-05 16:16:24.762  WARN 1387792 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2023-05-05 16:16:24.777  INFO 1387792 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2023-05-05 16:16:24.778  INFO 1387792 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2023-05-05 16:16:24.864  INFO 1387792 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2023-05-05 16:16:24.901  INFO 1387792 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2023-05-05 16:16:25.659  INFO 1387792 --- [main] c.k.example.test.HotelControllerTest     : Started HotelControllerTest in 27.76 seconds (JVM running for 30.463)
2023-05-05 16:16:25.915  INFO 1387792 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2023-05-05 16:16:25.916  INFO 1387792 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2023-05-05 16:16:25.990  INFO 1387792 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 73 ms
2023-05-05 16:16:26.362  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.createHotel(Hotel,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:26.605  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(Hotel com.khoubyari.example.api.rest.HotelController.getHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:26.770  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.deleteHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:26.826  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(Hotel com.khoubyari.example.api.rest.HotelController.getHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:26.851  INFO 1387792 --- [main] c.k.example.api.rest.HotelController     : ResourceNotFoundException handler:resource not found
2023-05-05 16:16:26.919  INFO 1387792 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2023-05-05 16:16:26.920  INFO 1387792 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2023-05-05 16:16:26.940  INFO 1387792 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 17 ms
2023-05-05 16:16:26.949  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.createHotel(Hotel,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:26.975  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.updateHotel(Long,Hotel,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:27.017  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(Hotel com.khoubyari.example.api.rest.HotelController.getHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:27.035  INFO 1387792 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.deleteHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-05 16:16:27.182  INFO 1387792 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@14fc5f04: startup date [Fri May 05 16:15:59 IST 2023]; root of context hierarchy
2023-05-05 16:16:27.201  INFO 1387792 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2023-05-05 16:16:27.267  INFO 1387792 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-05 16:16:27.271  INFO 1387792 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2023-05-05 16:16:27.301 ERROR 1387792 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.23.jar:na]
	at com.sun.proxy.$Proxy97.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:473) [spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:645) [spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at com.sun.proxy.$Proxy107.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:565) [spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1032) [spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1008) [spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]

2023-05-05 16:16:27.308  INFO 1387792 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2023-05-09 14:34:01.755  INFO 1820273 --- [main] c.k.example.test.HotelControllerTest     : Starting HotelControllerTest on adi123 with PID 1820273 (started by root in /home/aditya/Pictures/sbooot/spring-boot-rest-example)
2023-05-09 14:34:01.759  INFO 1820273 --- [main] c.k.example.test.HotelControllerTest     : The following profiles are active: test
2023-05-09 14:34:01.917  INFO 1820273 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@14fc5f04: startup date [Tue May 09 14:34:01 IST 2023]; root of context hierarchy
2023-05-09 14:34:07.165  INFO 1820273 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d9b096c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-05-09 14:34:09.204  INFO 1820273 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2023-05-09 14:34:09.251  INFO 1820273 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2023-05-09 14:34:09.781  INFO 1820273 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2023-05-09 14:34:09.786  INFO 1820273 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2023-05-09 14:34:09.792  INFO 1820273 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2023-05-09 14:34:09.921  INFO 1820273 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2023-05-09 14:34:10.205  INFO 1820273 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-05-09 14:34:11.444  INFO 1820273 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2023-05-09 14:34:11.476  INFO 1820273 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2023-05-09 14:34:11.570  INFO 1820273 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-09 14:34:13.078  WARN 1820273 --- [main] figurationPropertiesBindingPostProcessor : The @ConfigurationProperties bean class com.khoubyari.example.service.ServiceProperties contains validation constraints but had not been annotated with @Validated.
2023-05-09 14:34:13.079  WARN 1820273 --- [main] figurationPropertiesBindingPostProcessor : The @ConfigurationProperties bean class com.khoubyari.example.service.ServiceProperties contains validation constraints but had not been annotated with @Validated.
2023-05-09 14:34:13.080  WARN 1820273 --- [main] figurationPropertiesBindingPostProcessor : The @ConfigurationProperties bean class com.khoubyari.example.service.ServiceProperties contains validation constraints but had not been annotated with @Validated.
2023-05-09 14:34:14.794  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels/{id}],methods=[GET],produces=[application/json || application/xml]}" onto public com.khoubyari.example.domain.Hotel com.khoubyari.example.api.rest.HotelController.getHotel(java.lang.Long,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.lang.Exception
2023-05-09 14:34:14.798  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels/{id}],methods=[PUT],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.khoubyari.example.api.rest.HotelController.updateHotel(java.lang.Long,com.khoubyari.example.domain.Hotel,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-09 14:34:14.801  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels/{id}],methods=[DELETE],produces=[application/json || application/xml]}" onto public void com.khoubyari.example.api.rest.HotelController.deleteHotel(java.lang.Long,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-09 14:34:14.804  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels],methods=[GET],produces=[application/json || application/xml]}" onto public org.springframework.data.domain.Page<com.khoubyari.example.domain.Hotel> com.khoubyari.example.api.rest.HotelController.getAllHotel(java.lang.Integer,java.lang.Integer,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-09 14:34:14.806  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/example/v1/hotels],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.khoubyari.example.api.rest.HotelController.createHotel(com.khoubyari.example.domain.Hotel,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-09 14:34:14.810  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2023-05-09 14:34:14.822  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2023-05-09 14:34:14.825  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2023-05-09 14:34:14.828  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2023-05-09 14:34:14.840  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2023-05-09 14:34:14.842  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2023-05-09 14:34:16.703  INFO 1820273 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@14fc5f04: startup date [Tue May 09 14:34:01 IST 2023]; root of context hierarchy
2023-05-09 14:34:16.890  INFO 1820273 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2023-05-09 14:34:16.891  INFO 1820273 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2023-05-09 14:34:16.993  INFO 1820273 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2023-05-09 14:34:17.710  INFO 1820273 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 15f68cea-1c38-4a50-af14-6bf7f50c4b21

2023-05-09 14:34:17.830  INFO 1820273 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2023-05-09 14:34:17.831  INFO 1820273 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@3d57fb9e, []
2023-05-09 14:34:17.972  INFO 1820273 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@e5864c2, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@577cf459, org.springframework.security.web.context.SecurityContextPersistenceFilter@3adde4ea, org.springframework.security.web.header.HeaderWriterFilter@43e7f104, org.springframework.security.web.csrf.CsrfFilter@4caf875c, org.springframework.security.web.authentication.logout.LogoutFilter@2dc73024, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1800c1e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24b38e8f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@432eb882, org.springframework.security.web.session.SessionManagementFilter@1aaaabd1, org.springframework.security.web.access.ExceptionTranslationFilter@79e90571]
2023-05-09 14:34:19.617  WARN 1820273 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2023-05-09 14:34:19.628  INFO 1820273 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2023-05-09 14:34:19.630  INFO 1820273 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2023-05-09 14:34:19.694  INFO 1820273 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2023-05-09 14:34:19.719  INFO 1820273 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2023-05-09 14:34:20.308  INFO 1820273 --- [main] c.k.example.test.HotelControllerTest     : Started HotelControllerTest in 19.752 seconds (JVM running for 21.532)
2023-05-09 14:34:20.564  INFO 1820273 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2023-05-09 14:34:20.565  INFO 1820273 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2023-05-09 14:34:20.630  INFO 1820273 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 65 ms
2023-05-09 14:34:20.950  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.createHotel(Hotel,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.175  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(Hotel com.khoubyari.example.api.rest.HotelController.getHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.305  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.deleteHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.352  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(Hotel com.khoubyari.example.api.rest.HotelController.getHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.368  INFO 1820273 --- [main] c.k.example.api.rest.HotelController     : ResourceNotFoundException handler:resource not found
2023-05-09 14:34:21.408  INFO 1820273 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2023-05-09 14:34:21.409  INFO 1820273 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2023-05-09 14:34:21.429  INFO 1820273 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 18 ms
2023-05-09 14:34:21.437  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.createHotel(Hotel,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.455  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.updateHotel(Long,Hotel,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.489  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(Hotel com.khoubyari.example.api.rest.HotelController.getHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.506  INFO 1820273 --- [main] c.k.example.RestControllerAspect         : :::::AOP Before REST call:::::execution(void com.khoubyari.example.api.rest.HotelController.deleteHotel(Long,HttpServletRequest,HttpServletResponse))
2023-05-09 14:34:21.540  INFO 1820273 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@14fc5f04: startup date [Tue May 09 14:34:01 IST 2023]; root of context hierarchy
2023-05-09 14:34:21.552  INFO 1820273 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2023-05-09 14:34:21.589  INFO 1820273 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-09 14:34:21.590  INFO 1820273 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2023-05-09 14:34:21.608 ERROR 1820273 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.23.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.23.jar:na]
	at com.sun.proxy.$Proxy97.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_362]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_362]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_362]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_362]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:473) [spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:645) [spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at com.sun.proxy.$Proxy107.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:565) [spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1032) [spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1008) [spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]

2023-05-09 14:34:21.612  INFO 1820273 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
